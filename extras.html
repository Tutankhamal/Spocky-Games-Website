<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="pt-br">
    <meta name="description" content="Spocky Games - O melhor canal de jogos do Brasil!">
    <meta name="author" content="Tutankhamal, renejr, Spocky Games">
    <meta name="keywords" content="jogos, comunidade, Spocky Games, loja, YouTube, Discord">
    <link rel="canonical" href="https://spockygames.com.br">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Spocky Games">
    <meta property="og:description" content="Spocky Games - O melhor canal de jogos do Brasil!">
    <meta property="og:image" content="https://imgur.com/JuOYAFI.gif">
    <meta property="og:image:width" content="600">
    <meta property="og:image:height" content="270">
    <meta property="og:url" content="https://spockygames.com.br"> 
    <meta property="og:site_name" content="Spocky Games"> 
    <meta property="og:type" content="website">
    <meta property="og:color" content="#00BFFF">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Spocky Games">
    <meta name="twitter:description" content="Spocky Games - O melhor canal de jogos do Brasil!">
    <meta name="twitter:image" content="https://imgur.com/JuOYAFI.gif">

    <title>Spocky Games | Extras</title>

    <!-- Fonts and Styles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon">

</head>
<body>
    <canvas id="retro-bg"></canvas>
    <div class="background-container"></div>
    
    
    <header class="navbar">
        <div class="logo-container">
            <img src="/assets/images/logo-spocky-main.webp" alt="Spocky Games Logo" class="logo" >
            <h1 class="site-title"><a href="index.html">Spocky Games</a></h1>
        </div>
        
        <nav class="nav-links">
            <ul>
                <li><a href="index.html">In√≠cio</a></li>
                <li><a href="loja.html">Loja</a></li>
                <li><a href="aovivo.html" >Ao Vivo</a></li>
                <li><a href="ondemand.html">On Demand</a></li>
                <li><a href="extras.html" class="active">Extras</a></li>
                <li><a href="novidades.html">Novidades</a></li>
                <li><a href="parceiros.html">Parceiros</a></li>
                <!--<li><a href="sobre.html">Sobre</a></li> -->
                <li><a href="contato.html">Contato</a></li>
            </ul>
        </nav>
        
        <div class="hamburger">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
    </header>
    
    <main>
        <section class="page-header animated-section">
            <div class="animated-content">
            <h1 class="glitch" data-text="Extras">Extras</h1>
            <p>Curta e divirta-se com nossos jogos e aplicativos! (Em breve)</p>
            </div>
        </section>
        
        <section class="game-section">
          <div class="custom-retro-banner-wrapper">
            <div class="custom-retro-banner-bg"></div>
            <div class="custom-retro-character" id="retroBannerCharacter">
              <img src="/assets/images/mummy.gif" alt="Mummy" />
            </div>
            <div class="custom-retro-content" id="retroBannerContent">
              <span>Anuncie aqui</span>
            </div>
          </div>

<h2 class="section-title">Roleta Spocky Games</h2>
<div class="matrix-container">
  <div class="matrix-left">
    <textarea id="namesInput" class="matrix-textarea" placeholder="Digite um nome por linha..."></textarea>
    
<div class="volume-wrapper">
  üîä Volume:
  <input type="range" id="volumeControl" min="0" max="100" value="75">
  <span id="volumeValue" class="slider-label">75%</span>
</div>

<div class="duration-wrapper">
  ‚è±Ô∏è Dura√ß√£o:
  <input type="range" id="durationControl" min="5" max="180" value="30">
  <span id="durationValue" class="slider-label">30s</span>
</div>
    <button id="startBtn" class="matrix-button">üé≤ Iniciar o Sorteio</button>
  </div>

  <div class="matrix-right">
    <div id="rouletteWrapper">
    <div id="roulette" class="matrix-roulette"></div>
    </div>
    <div id="resultText" class="matrix-result"></div>
  </div>
</div>

         


                
        </section> 
    </main>  
  <section class="parceiros-carroussel">
    <div class="carousel-container">
      <div class="carousel-track">
        <div class="carousel-slide">
          <img src="/assets/images/partnerlogos/ecast.webp" alt="E-Cast" data-link="https://www.ecast.site">
        </div>
       <!-- <div class="carousel-slide">
          <img src="/assets/images/partnerlogos/entretonic.webp" alt="Entretonic" data-link="https://instagram.com/entretonic">
        </div> -->
      <div class="carousel-slide">
        <img src="/assets/images/partnerlogos/sejaumpatrocinador.webp" alt="Entretonic" data-link="contato.html">
      </div>
      </div>
    </div>
  </section>
  <button id="backToTop" class="top-button">‚ñ≤</button>
    <footer>
        <div class="footer-content">
            <p>&copy; 2025 Spocky Games. Todos os direitos reservados.</p>
            <div class="social-icons">
                <a href="https://youtube.com/@SpockyGames" target="_blank" class="social-icon youtube">
                    <i class="fab fa-youtube"></i>
                </a>                
                <a href="https://instagram.com/SpockyGames" target="_blank" class="social-icon instagram">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.tiktok.com/@spockygames" target="_blank" class="social-icon tiktok">
                    <i class="fab fa-tiktok"></i>
                </a>
                <a href="https://discord.com/invite/5Zags8Xaz5" target="_blank" class="social-icon discord">
                    <i class="fab fa-discord"></i>
                </a>
                <a href="https://chat.whatsapp.com/JkQvyyFUzZn4y2mbkuD7mv" target="_blank" class="social-icon whatsapp">
                    <i class="fab fa-whatsapp"></i>
                </a>
            </div>
        </div>
    </footer>
    
    <script src="/assets/js/script.js"></script>
<script>
(() => {
  const startBtn = document.getElementById('startBtn');
  const namesInput = document.getElementById('namesInput');
  const roulette = document.getElementById('roulette');
  roulette.style.display = 'inline-block';
  roulette.style.width = '100%'; // ou '400px' se quiser fixo
  roulette.style.maxWidth = '100%';
  roulette.style.overflow = 'hidden';
  roulette.style.textOverflow = 'clip'; // ou 'ellipsis'
  roulette.style.whiteSpace = 'nowrap';
  const resultText = document.getElementById('resultText');

  const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*';
  let names = [];
  let animationFrameId = null;
  let animationStart = null;
  let currentWinnerName = null;

  const roletaAudio = new Audio('/assets/audio/roleta.mp3');
  const zeldaAudio = new Audio('/assets/audio/zelda.mp3');
  roletaAudio.volume = 0.5;
  zeldaAudio.volume = 0.5;

  function randomString(length) {
    let str = '';
    for (let i = 0; i < length; i++) {
      str += letters.charAt(Math.floor(Math.random() * letters.length));
    }
    return str;
  }

  function matrixSuspenseLine(finalStr, maxLength, progress) {
    const finalLen = finalStr.length;
    const currentLen = Math.floor(maxLength - (maxLength - finalLen) * progress);
    if (progress < 1) {
      return randomString(currentLen);
    } else {
      return finalStr.toUpperCase();
    }
  }

  function animateMatrixSuspense(finalName, onComplete) {
    const durationInput = document.getElementById('durationControl');
    const duration = (durationInput ? parseInt(durationInput.value) : 25) * 1000;
    animationStart = null;
    const maxLength = Math.max(30, finalName.length + 10);

    function step(timestamp) {
      if (!animationStart) animationStart = timestamp;
      const elapsed = timestamp - animationStart;
      let progress = elapsed / duration;
      if (progress > 1) progress = 1;

      const line = matrixSuspenseLine(finalName, maxLength, progress);
      roulette.textContent = line;

      if (progress < 1) {
        animationFrameId = requestAnimationFrame(step);
      } else {
        if (onComplete) onComplete();
      }
    }

    animationFrameId = requestAnimationFrame(step);
  }

  // ====== CANVAS DOS FOGOS E NOME =======
  let fireworksCanvas = null;
  let ctx = null;
  let fireworks = [];
  let fireworksAnimationId = null;
  let fireworksStartTime = null;
  let explosionCount = 0;

  class FireworkParticle {
    constructor(x, y, angle, speed, color) {
      this.x = x;
      this.y = y;
      this.vx = Math.cos(angle) * speed;
      this.vy = Math.sin(angle) * speed;
      this.alpha = 1;
      this.life = 60 + Math.random() * 20;
      this.color = color;
      this.size = 5 + Math.random() * 5;
    }
    update() {
      this.x += this.vx;
      this.y += this.vy;
      this.vy += 0.05;
      this.alpha -= 1 / this.life;
      if (this.alpha < 0) this.alpha = 0;
      this.life--;
    }
    draw(ctx) {
      if (this.alpha <= 0) return;
      ctx.save();
      ctx.globalAlpha = this.alpha;
      ctx.fillStyle = this.color;
      ctx.fillRect(this.x - this.size / 2, this.y - this.size / 2, this.size, this.size);
      ctx.restore();
    }
    get isAlive() {
      return this.alpha > 0 && this.life > 0;
    }
  }

  function createFirework(x, y) {
    const colors = [
      'rgba(255, 69, 0, 1)',
      'rgba(255, 215, 0, 1)',
      'rgba(30, 144, 255, 1)',
      'rgba(0, 255, 127, 1)',
      'rgba(255, 20, 147, 1)',
      'rgba(138, 43, 226, 1)',
    ];
    const particleCount = 20;
    for (let i = 0; i < particleCount; i++) {
      const angle = Math.random() * Math.PI * 2;
      const speed = Math.random() * 4 + 2;
      const colorIndex = Math.floor((Date.now() / 100) % colors.length);
      const color = colors[(colorIndex + i) % colors.length];
      fireworks.push(new FireworkParticle(x, y, angle, speed, color));
    }
  }

  function drawWinnerNameWaveEffect(name, timestamp) {
    if (!ctx || !name) return;

    ctx.save();
    ctx.font = 'bold 64px monospace';
    ctx.textBaseline = 'middle';
    ctx.textAlign = 'center';
    ctx.fillStyle = '#ffffff';
    const baseX = fireworksCanvas.width / 2;
    const baseY = fireworksCanvas.height / 2;
    const waveAmplitude = 20;
    const waveFrequency = 0.005;

    const totalWidth = ctx.measureText(name).width;
    let currentX = baseX - totalWidth / 2;

    for (let i = 0; i < name.length; i++) {
      const char = name.charAt(i);
      const charWidth = ctx.measureText(char).width;
      const offsetY = Math.sin((timestamp + i * 100) * waveFrequency) * waveAmplitude;
      ctx.fillText(char, currentX + charWidth / 2, baseY + offsetY);
      currentX += charWidth;
    }

    ctx.restore();
  }

  function animateFireworks(timestamp) {
    if (!timestamp) timestamp = performance.now();

    if (!fireworksStartTime) fireworksStartTime = timestamp;
    const elapsed = timestamp - fireworksStartTime;

    if (elapsed < 10000) {
      if (explosionCount % 2 === 0) {
        const x = Math.random() * (fireworksCanvas.width / 2);
        const y = Math.random() * fireworksCanvas.height;
        createFirework(x, y);
      } else {
        const x = (fireworksCanvas.width / 2) + Math.random() * (fireworksCanvas.width / 2);
        const y = Math.random() * fireworksCanvas.height;
        createFirework(x, y);
      }
      explosionCount++;
    } else {
      fireworksCanvas.style.opacity = '0';
      setTimeout(() => {
        cancelAnimationFrame(fireworksAnimationId);
        fireworksAnimationId = null;
        fireworks = [];
        ctx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);
        if (fireworksCanvas.parentNode) {
          fireworksCanvas.remove();
          fireworksCanvas = null;
          ctx = null;
        }
      }, 1500);
      return;
    }

    ctx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);
    fireworks.forEach(fw => {
      fw.update();
      fw.draw(ctx);
    });
    fireworks = fireworks.filter(fw => fw.isAlive);
    drawWinnerNameWaveEffect(currentWinnerName, timestamp);
    fireworksAnimationId = requestAnimationFrame(animateFireworks);
  }

  function startFireworks() {
    if (!fireworksCanvas) {
      fireworksCanvas = document.createElement('canvas');
      fireworksCanvas.id = 'fireworksCanvas';
      fireworksCanvas.style.position = 'fixed';
      fireworksCanvas.style.top = '0';
      fireworksCanvas.style.left = '0';
      fireworksCanvas.style.width = '100%';
      fireworksCanvas.style.height = '100%';
      fireworksCanvas.style.pointerEvents = 'none';
      fireworksCanvas.style.zIndex = '10';
      fireworksCanvas.style.background = 'transparent';
      fireworksCanvas.style.transition = 'opacity 1.5s ease';
      fireworksCanvas.style.opacity = '1';
      document.body.appendChild(fireworksCanvas);
      ctx = fireworksCanvas.getContext('2d');

      function resize() {
        fireworksCanvas.width = window.innerWidth;
        fireworksCanvas.height = window.innerHeight;
      }
      resize();
      window.addEventListener('resize', resize);
    }

    fireworks = [];
    fireworksStartTime = null;
    explosionCount = 0;
    if (fireworksAnimationId) {
      cancelAnimationFrame(fireworksAnimationId);
      fireworksAnimationId = null;
    }
    fireworksAnimationId = requestAnimationFrame(animateFireworks);
  }

  // ======== EVENTO DO BOT√ÉO ==========
  startBtn.addEventListener('click', () => {
    if (animationFrameId) {
      cancelAnimationFrame(animationFrameId);
      animationFrameId = null;
    }

    resultText.textContent = '';
    resultText.style.animation = 'none';
    currentWinnerName = null;

    const rawNames = namesInput.value.trim();
    if (!rawNames) {
      alert('Por favor, digite pelo menos um nome.');
      return;
    }

    names = rawNames.split('\n').map(n => n.trim()).filter(n => n.length > 0);
    if (names.length === 0) {
      alert('Digite nomes v√°lidos.');
      return;
    }

    const chosenName = names[Math.floor(Math.random() * names.length)];
    currentWinnerName = chosenName.toUpperCase();

roletaAudio.currentTime = 0;
roletaAudio.loop = true;
roletaAudio.volume = parseFloat(volumeControl.value) / 100;
roletaAudio.play();

// Dura√ß√£o do sorteio em milissegundos
const durationInput = document.getElementById('durationControl');
const duration = (durationInput ? parseInt(durationInput.value) : 25) * 1000;

// Agendar o fade-out antes do final
setTimeout(() => {
  let fadeStartVolume = roletaAudio.volume;
  let fadeDuration = 1500; // ms
  let fadeSteps = 30;
  let step = 0;

  const fadeInterval = setInterval(() => {
    step++;
    const progress = step / fadeSteps;
    // Atenua√ß√£o exponencial
    roletaAudio.volume = fadeStartVolume * Math.pow(0.1, progress);
    if (step >= fadeSteps) {
      clearInterval(fadeInterval);
      roletaAudio.pause();
      roletaAudio.currentTime = 0;
      roletaAudio.volume = fadeStartVolume; // Restaura para pr√≥xima execu√ß√£o
      roletaAudio.loop = false;
    }
  }, fadeDuration / fadeSteps);
}, duration - 1500); // Inicia fade 1.5s antes do fim


    animateMatrixSuspense(chosenName, () => {
      zeldaAudio.currentTime = 0;
      zeldaAudio.play();

      resultText.textContent = `${chosenName}`;
      resultText.style.animation = 'bounce 1.2s ease infinite';

      startFireworks();
    });
  });

  // ===== CONTROLE DE VOLUME E DURA√á√ÉO COM LABELS =====
  const volumeControl = document.getElementById('volumeControl');
  const volumeValue = document.getElementById('volumeValue');
  if (volumeControl && volumeValue) {
    function updateVolume() {
      const volumePercent = parseFloat(volumeControl.value);
      const volume = volumePercent / 100;
      roletaAudio.volume = volume;
      zeldaAudio.volume = volume;
      volumeValue.textContent = `${volumePercent}%`;
    }
    volumeControl.addEventListener('input', updateVolume);
    updateVolume(); // inicializa na carga
  }

  const durationControl = document.getElementById('durationControl');
  const durationValue = document.getElementById('durationValue');
  if (durationControl && durationValue) {
    function updateDuration() {
      const dur = durationControl.value;
      durationValue.textContent = `${dur}s`;
    }
    durationControl.addEventListener('input', updateDuration);
    updateDuration(); // inicializa na carga
  }
})();
</script>
<script>
  const retroBanners = [
    { type: 'text', text: 'Anuncie aqui', link: 'contato.html' },
    { type: 'logo', img: '/assets/images/partnerlogos/ecast.webp', alt: 'Ecast', link: 'https://ecast.site' }
  ];
  const retroCharacters = [
    { name: 'Mummy', src: '/assets/images/mummy.gif', width: 72, height: 72 },
    { name: 'Sonic', src: '/assets/images/sonic.gif', width: 72, height: 72 },
    { name: 'DK', src: '/assets/images/dk.gif', width: 72, height: 72 },
    { name: 'Mario', src: '/assets/images/mario.gif', width: 72, height: 72 },
    { name: 'Wario', src: '/assets/images/wario.gif', width: 72, height: 72 },
    { name: 'Luigi', src: '/assets/images/luigi.gif', width: 72, height: 72 },
    { name: 'Mickey', src: '/assets/images/mickey.gif', width: 72, height: 72 }

  ];

  const bannerEl = document.querySelector('.custom-retro-banner-wrapper');
  const contentEl = document.getElementById('retroBannerContent');
  const charEl = document.getElementById('retroBannerCharacter');

  let currentBanner = -1;
  let currentChar = -1;
  let state = 'enter';
  let animStart = null;

  let bannerWidth, charWidth, contentWidth, gap;
  let centerPos, leftEdge, rightEdge;

  const animDuration = 3400;
  const waitDuration = 10000;
  const charGap = 12;

  function setBanner(bannerIdx, charIdx) {
    const banner = retroBanners[bannerIdx];
    const character = retroCharacters[charIdx];

    if (banner.type === 'text') {
      contentEl.innerHTML = `<a href="${banner.link}" style="color:inherit;text-decoration:none;white-space:nowrap;position:relative;left:85px;">${banner.text}</a>`;
    } else if (banner.type === 'logo') {
      contentEl.innerHTML = `<a href="${banner.link}" style="left:65px" target="_blank"><img src="${banner.img}" alt="${banner.alt}" class="rbann-logo"></a>`;
    }

    charEl.innerHTML = `<img src="${character.src}" alt="${character.name}" style="width:${character.width}px; height:${character.height}px;">`;

    setTimeout(() => {
      bannerWidth = bannerEl.offsetWidth;
      charWidth = charEl.offsetWidth || character.width;
      const contentRect = contentEl.getBoundingClientRect();
      contentWidth = contentRect.width;

      gap = charGap;

      const totalContentWidth = contentWidth + charWidth + gap;
      const startX = (bannerWidth - totalContentWidth) / 2;

      leftEdge = -totalContentWidth;
      centerPos = startX + charWidth + gap;
      rightEdge = bannerWidth + totalContentWidth;

      charEl.style.transition = 'none';
      contentEl.style.transition = 'none';

      charEl.style.left = leftEdge + 'px';
      charEl.style.transform = 'scaleX(1)';
      contentEl.style.left = (leftEdge + charWidth + gap) + 'px';

      state = 'enter';
      animStart = null;
      requestAnimationFrame(animate);
    }, 30);
  }

  function animate(ts) {
    if (!animStart) animStart = ts;
    let elapsed = ts - animStart;

    if (state === 'enter') {
      const duration = animDuration;
      let progress = Math.min(elapsed / duration, 1);

      const charStart = leftEdge;
      const contentStart = leftEdge + charWidth + gap;
      const charEnd = centerPos - charWidth - gap;
      const contentEnd = centerPos;

      const charPos = charStart + (charEnd - charStart) * progress;
      const contentPos = contentStart + (contentEnd - contentStart) * progress;

      charEl.style.left = charPos + 'px';
      contentEl.style.left = contentPos + 'px';

      if (progress < 1) {
        requestAnimationFrame(animate);
      } else {
        charEl.style.left = charEnd + 'px';
        contentEl.style.left = contentEnd + 'px';
        charEl.style.transform = 'scaleX(-1)';

        state = 'returnLeft';
        animStart = null;
        requestAnimationFrame(animate);
      }

    } else if (state === 'returnLeft') {
      const duration = animDuration * 0.6;
      let progress = Math.min(elapsed / duration, 1);

      const charStart = centerPos - charWidth - gap;
      const charEnd = leftEdge;

      const charPos = charStart + (charEnd - charStart) * progress;

      charEl.style.left = charPos + 'px';
      contentEl.style.left = centerPos + 'px';

      if (progress < 1) {
        requestAnimationFrame(animate);
      } else {
        charEl.style.left = leftEdge + 'px';
        charEl.style.transform = 'scaleX(1)';

        state = 'waitBeforeExit';
        animStart = null;

        setTimeout(() => {
          state = 'exit';
          animStart = null;
          requestAnimationFrame(animate);
        }, waitDuration);
      }

    } else if (state === 'waitBeforeExit') {
      charEl.style.left = leftEdge + 'px';
      contentEl.style.left = centerPos + 'px';

    } else if (state === 'exit') {
      const totalExitDuration = animDuration * 2;
      const halfDuration = totalExitDuration / 2;
      const charMid = centerPos - charWidth - gap;
      const contentMid = centerPos;

      if (elapsed <= halfDuration) {
        const progress = elapsed / halfDuration;

        const charPos = leftEdge + (charMid - leftEdge) * progress;
        charEl.style.left = charPos + 'px';
        charEl.style.transform = 'scaleX(1)';
        contentEl.style.left = centerPos + 'px';

        requestAnimationFrame(animate);

      } else {
        const progress = (elapsed - halfDuration) / halfDuration;

        const charEnd = rightEdge;
        const contentEnd = rightEdge + charWidth + gap;

        const charPos = charMid + (charEnd - charMid) * progress;
        const contentPos = contentMid + (contentEnd - contentMid) * progress;

        charEl.style.left = charPos + 'px';
        charEl.style.transform = 'scaleX(1)';
        contentEl.style.left = contentPos + 'px';

        if (progress < 1) {
          requestAnimationFrame(animate);
        } else {
          charEl.style.left = charEnd + 'px';
          contentEl.style.left = contentEnd + 'px';

          setTimeout(() => {
            let nextBanner, nextChar;
            do {
              nextBanner = Math.floor(Math.random() * retroBanners.length);
            } while (nextBanner === currentBanner);

            do {
              nextChar = Math.floor(Math.random() * retroCharacters.length);
            } while (nextChar === currentChar);

            currentBanner = nextBanner;
            currentChar = nextChar;

            setBanner(currentBanner, currentChar);
          }, 400);
        }
      }
    }
  }

  // In√≠cio com sorteio inicial
  currentBanner = Math.floor(Math.random() * retroBanners.length);
  currentChar = Math.floor(Math.random() * retroCharacters.length);
  setBanner(currentBanner, currentChar);
</script>


    
</body>
</html>
